(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[8473],{54986:function(e,t,n){var r=n(88113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},76650:function(e,t,n){var r=n(1702),a=n(17466),o=n(41340),i=n(38415),u=n(84488),l=r(i),c=r("".slice),s=Math.ceil,d=function(e){return function(t,n,r){var i,d,p=o(u(t)),f=a(n),h=p.length,g=void 0===r?" ":o(r);return f<=h||""==g?p:(i=f-h,d=l(g,s(i/g.length)),d.length>i&&(d=c(d,0,i)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},38415:function(e,t,n){"use strict";var r=n(19303),a=n(41340),o=n(84488),i=RangeError;e.exports=function(e){var t=a(o(this)),n="",u=r(e);if(u<0||u==1/0)throw i("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(n+=t);return n}},83112:function(e,t,n){"use strict";var r=n(82109),a=n(76650).start,o=n(54986);r({target:"String",proto:!0,forced:o},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},8473:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(66252),a=function(e){return(0,r.dD)("data-v-15999ad4"),e=e(),(0,r.Cn)(),e},o={class:"container"},i=a((function(){return(0,r._)("div",{class:"header"},[(0,r._)("div",{class:"title"},"识别结果列表")],-1)})),u={class:"operation"},l=(0,r.Uk)("全选"),c=(0,r.Uk)("批量删除"),s=["href"],d=["src"],p=(0,r.Uk)("删除");function f(e,t,n,a,f,h){var g=(0,r.up)("el-checkbox"),m=(0,r.up)("el-button"),w=(0,r.up)("el-table-column"),v=(0,r.up)("el-table"),_=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",o,[i,(0,r._)("div",u,[(0,r.Wm)(g,{modelValue:a.selectAll,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.selectAll=e}),onChange:a.handleSelectAll},{default:(0,r.w5)((function(){return[l]})),_:1},8,["modelValue","onChange"]),(0,r.Wm)(m,{type:"danger",size:"small",disabled:0===a.selectedItems.length,onClick:a.handleBatchDelete},{default:(0,r.w5)((function(){return[c]})),_:1},8,["disabled","onClick"])]),(0,r.wy)((0,r.Wm)(v,{data:a.results,style:{width:"100%"},"row-key":e.rowKey},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{type:"selection",width:"55"}),(0,r.Wm)(w,{prop:"record_time",label:"检查时间",width:"180",sortable:""}),(0,r.Wm)(w,{prop:"image",label:"图片",width:"200"},{default:(0,r.w5)((function(e){return[(0,r._)("a",{href:"data:image/jpeg;base64,"+e.row.img_str,target:"_blank",download:""},[(0,r._)("img",{src:"data:image/jpeg;base64,"+e.row.img_str,fit:"cover"},null,8,d)],8,s)]})),_:1}),(0,r.Wm)(w,{prop:"disease_type",label:"病害种类",width:"150",sortable:""}),(0,r.Wm)(w,{prop:"disease_type_rate",label:"病害准确率",width:"150",sortable:""}),(0,r.Wm)(w,{prop:"disease_monitor_time",label:"执行耗时",width:"150",sortable:""}),(0,r.Wm)(w,{prop:"upload_solution",label:"上传位置",width:"150",sortable:""}),(0,r.Wm)(w,{prop:"upload_user",label:"上传人",width:"150",sortable:""}),(0,r.Wm)(w,{label:"操作",fixed:"right",width:"200"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(m,{plain:"",size:"small",type:"danger",onClick:function(t){return a.handleDelete(e.row.id)}},{default:(0,r.w5)((function(){return[p]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","row-key"]),[[_,a.loading]])])])}var h=n(48534),g=(n(83112),n(41539),n(39714),n(92222),n(21249),n(35666),n(62931)),m=n(81348),w=n(10844),v=n(9669),_=n.n(v),b={setup:function(){var e=(0,g.iH)([]),t=(0,g.iH)(!1),n=(0,g.iH)(!1),a=(0,g.iH)([]);(0,r.bv)((function(){o()}));var o=function(){var n=(0,h.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{t.value=!0,_().get("http://127.0.0.1:20229/get_grape_disease_list/").then((function(t){console.log("Response:",t.data),e.value=t.data})).catch((function(e){console.error("Error:",e)})),t.value=!1}catch(r){t.value=!1,m.z8.error("获取数据失败")}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i=function(){var e=(0,h.Z)(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,u,l,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Date(1e3*r),o=a.getFullYear(),i=(a.getMonth()+1).toString().padStart(2,"0"),u=a.getDate().toString().padStart(2,"0"),l=a.getHours().toString().padStart(2,"0"),c=a.getMinutes().toString().padStart(2,"0"),s=a.getSeconds().toString().padStart(2,"0"),e.abrupt("return","".concat(o,"-").concat(i,"-").concat(u," ").concat(l,":").concat(c,":").concat(s));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function(){n.value?a.value=e.value.map((function(e){return e.id})):a.value=[]},l=function(t){w.T.confirm("此操作将永久删除该识别结果, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,h.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:_().post("http://127.0.0.1:20229/delete_grape_disease_list/",{ids:[t]}).then((function(t){console.log("Response:",t.data),e.value=t.data,o(),m.z8.success("删除成功")}));case 1:case"end":return n.stop()}}),n)}))))},c=function(){var t=(0,h.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==a.value.length){t.next=3;break}return m.z8.warning("请选择要删除的记录"),t.abrupt("return");case 3:w.T.confirm("此操作将永久删除选中的识别结果, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,h.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:_().post("http://127.0.0.1:20229/delete_grape_disease_list/",{ids:a.value}).then((function(t){console.log("Response:",t.data),e.value=t.data,o(),m.z8.success("批量删除成功"),n.value=!1,a.value=[]}));case 1:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{results:e,loading:t,selectAll:n,selectedItems:a,getResults:o,handleDelete:l,handleBatchDelete:c,handleSelectAll:u,formatDateTime:i}}},k=n(83744);const y=(0,k.Z)(b,[["render",f],["__scopeId","data-v-15999ad4"]]);var S=y}}]);
//# sourceMappingURL=8473.a44ba1b3.js.map