"use strict";(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[5639,5705],{72771:function(e,n,r){r.r(n),r.d(n,{default:function(){return W}});r(68309);var u=r(66252),t=r(58061),o=function(e){return(0,u.dD)("data-v-dea61f72"),e=e(),(0,u.Cn)(),e},i={class:"container"},a=o((function(){return(0,u._)("div",{class:"title"},"新建分组信息",-1)})),l={class:"content"},s=(0,u.Uk)("保 存"),c=(0,u.Uk)("重 置");function f(e,n,r,o,f,m){var p=(0,u.up)("el-input"),d=(0,u.up)("el-form-item"),v=(0,u.up)("group-permissions"),g=(0,u.up)("el-button"),w=(0,u.up)("el-form"),_=(0,u.up)("el-col"),b=(0,u.up)("el-row"),h=(0,u.Q2)("loading");return(0,u.wg)(),(0,u.iD)("div",i,[a,(0,u.Wm)(b,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(_,{lg:16,md:20,sm:24,xs:24},{default:(0,u.w5)((function(){return[(0,u._)("div",l,[(0,u.wy)((0,u.Wm)(w,{ref:"form","status-icon":"",rules:o.rules,model:o.group,"label-position":"right","label-width":"100px",onSubmit:n[4]||(n[4]=(0,t.iM)((function(){}),["prevent"]))},{default:(0,u.w5)((function(){return[(0,u.Wm)(d,{label:"分组名称",prop:"name"},{default:(0,u.w5)((function(){return[(0,u.Wm)(p,{clearable:"",modelValue:o.group.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.group.name=e})},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(d,{label:"分组描述",prop:"info"},{default:(0,u.w5)((function(){return[(0,u.Wm)(p,{clearable:"",modelValue:o.group.info,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.group.info=e})},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(d,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(v,{title:"分配权限",ref:"groupPermissions",onUpdatePermissions:o.updatePermissions},null,8,["onUpdatePermissions"])]})),_:1}),(0,u.Wm)(d,{class:"submit"},{default:(0,u.w5)((function(){return[(0,u.Wm)(g,{type:"primary",onClick:n[2]||(n[2]=function(e){return o.submitForm("form")})},{default:(0,u.w5)((function(){return[s]})),_:1}),(0,u.Wm)(g,{onClick:n[3]||(n[3]=function(e){return o.resetForm("form")})},{default:(0,u.w5)((function(){return[c]})),_:1})]})),_:1})]})),_:1},8,["rules","model"]),[[h,o.loading]])])]})),_:1})]})),_:1})])}var m=r(48534),p=(r(35666),r(57327),r(41539),r(47941),r(21703),r(42119)),d=r(62931),v=r(81348),g=r(41301),w=r(37972),_={components:{GroupPermissions:w["default"]},setup:function(){var e=b(),n=e.rules,r=(0,d.iH)(null),u=(0,d.iH)(null),t=(0,d.iH)(!1),o=(0,p.tv)(),i=(0,d.iH)([]),a=(0,d.iH)([]),l=(0,d.qj)({name:"",info:""}),s=function(){r.value.resetFields(),u.value.getGroupPermissions()},c=function(){var e=(0,m.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.value.validate(function(){var e=(0,m.Z)(regeneratorRuntime.mark((function e(n){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}return r={},u=i.value.filter((function(e){return Object.keys(a.value).indexOf(e)<0})),e.prev=3,t.value=!0,e.next=7,g["default"].createOneGroup(l.name,l.info,u);case 7:r=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),t.value=!1,console.error(e.t0);case 14:r.code<window.MAX_SUCCESS_CODE?(t.value=!1,v.z8.success("".concat(r.message)),o.push("/admin/group/list"),s()):t.value=!1,e.next=18;break;case 17:v.z8.error("请将信息填写完整");case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){i.value=e};return{form:r,rules:n,group:l,loading:t,resetForm:s,submitForm:c,groupPermissions:u,updatePermissions:f}}};function b(){var e=function(e,n,r){if(!n)return r(new Error("分组名称不能为空"));r()},n={info:[],name:[{validator:e,trigger:["blur","change"],required:!0}]};return{rules:n}}var h=r(83744);const k=(0,h.Z)(_,[["render",f],["__scopeId","data-v-dea61f72"]]);var W=k}}]);
//# sourceMappingURL=5639.0f5f8e82.js.map